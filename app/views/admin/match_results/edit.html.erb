<div class="container py-2">
  <h2 class="text-center mb-4">Lan√ßar Resultado</h2>
  <h4 class="text-center text-muted mb-5">
    <%= @match.team_a_name %> vs <%= @match.team_b_name %>
  </h4>

  <%= form_with url: result_admin_match_path(@match), method: :patch, local: true do |f| %>
    <div class="row justify-content-center align-items-center">
      
      <!-- Time A -->
      <div class="col-md-4 text-center">
        <div class="form-group">
          <div class="team-logo-container mb-2">
            <% if @match.team_a&.logo&.attached? %>
              <%= image_tag @match.team_a.logo.variant(resize_to_limit: [70, 70]),
                    alt: "#{@match.team_a_name} logo", class: "img-fluid" %>
            <% elsif @match.team_a_logo.attached? %>
              <%= image_tag @match.team_a_logo.variant(resize_to_limit: [70, 70]),
                    alt: "#{@match.team_a_name} logo", class: "img-fluid" %>
            <% else %>
              <div class="team-logo-placeholder" style="width:70px; height:70px; background:#eaeaea; display:inline-block;"></div>
            <% end %>
          </div>
          <label><strong><%= @match.team_a_name %></strong></label>
          <%= f.number_field :home_score, 
                value: @match.score_a,
                class: 'form-control text-center mt-2', 
                min: 0, 
                required: true %>
        </div>
      </div>

      <!-- X -->
      <div class="col-md-1 d-flex align-items-center justify-content-center">
        <h3>X</h3>
      </div>

      <!-- Time B -->
      <div class="col-md-4 text-center">
        <div class="form-group">
          <div class="team-logo-container mb-2">
            <% if @match.team_b&.logo&.attached? %>
              <%= image_tag @match.team_b.logo.variant(resize_to_limit: [70, 70]),
                    alt: "#{@match.team_b_name} logo", class: "img-fluid" %>
            <% elsif @match.team_b_logo.attached? %>
              <%= image_tag @match.team_b_logo.variant(resize_to_limit: [70, 70]),
                    alt: "#{@match.team_b_name} logo", class: "img-fluid" %>
            <% else %>
              <div class="team-logo-placeholder" style="width:70px; height:70px; background:#eaeaea; display:inline-block;"></div>
            <% end %>
          </div>
          <label><strong><%= @match.team_b_name %></strong></label>
          <%= f.number_field :away_score, 
                value: @match.score_b,
                class: 'form-control text-center mt-2', 
                min: 0, 
                required: true %>
        </div>
      </div>

    </div>

    <div class="text-center mt-4">
      <%= f.submit 'Salvar Resultado', class: 'btn btn-success px-4 me-2' %>
      <%= link_to 'Finalizar Partida', finalize_admin_match_path(@match), 
            method: :post,
            class: 'btn btn-primary px-4 me-2' %>
      <%= link_to 'Cancelar', admin_matches_path, class: 'btn btn-outline-secondary px-4' %>
    </div>
  <% end %>
</div>